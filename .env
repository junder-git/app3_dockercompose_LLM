# CLEAN .env - Optimized Configuration for Limited VRAM
# =============================================================================

# üîê JWT CONFIGURATION
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# Domain Configuration
ALLOWED_DOMAINS=localhost,127.0.0.1,ai.junder.uk

# Admin User Configuration
ADMIN_USERNAME=admin1
ADMIN_PASSWORD=admin1
ADMIN_USER_ID=admin

# =============================================================================
# ü§ñ MODEL CONFIGURATION
# =============================================================================
OLLAMA_URL=http://vllm:8000
OLLAMA_MODEL=devstral

# =============================================================================
# üéõÔ∏è MODEL PARAMETERS - REDUCED FOR STABILITY
# =============================================================================

# Core model parameters
MODEL_TEMPERATURE=0.7                      # Reduced from 0.8
MODEL_TOP_P=0.9                           # Default: 0.9  
MODEL_TOP_K=40                            # Default: 40
MODEL_MIN_P=0.0                           # Default: 0.0 (disabled)
MODEL_REPEAT_PENALTY=1.1                  # Default: 1.1
MODEL_REPEAT_LAST_N=64                    # Default: 64
# Context and prediction settings - REDUCED
MODEL_NUM_CTX=512                        # REDUCED from 1024 to stable size
MODEL_NUM_PREDICT=128                     # REDUCED to 512 tokens max
MODEL_SEED=0                              # Default: 0                 

# =============================================================================
# üì± APPLICATION SETTINGS
# =============================================================================
RATE_LIMIT_MESSAGES_PER_MINUTE=8         
MAX_MESSAGE_LENGTH=5000                   # REDUCED from 10000

# User Management
MAX_CHATS_PER_USER=1
MAX_PENDING_USERS=2
MIN_USERNAME_LENGTH=3
MAX_USERNAME_LENGTH=12
MIN_PASSWORD_LENGTH=6
MAX_PASSWORD_LENGTH=16

# =============================================================================
# üê≥ DOCKER RESOURCES - OPTIMIZED
# =============================================================================
VLLM_CPU_LIMIT=4.0
VLLM_MEMORY_LIMIT=16G
REDIS_MEMORY=1G                         # REDUCED from 1G
REDIS_CPU=1.0
NGINX_MEMORY=1G                         # REDUCED from 1G
NGINX_CPU=1.0

# =============================================================================
# üì¶ REDIS & NETWORK
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# =============================================================================
# üìù LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json